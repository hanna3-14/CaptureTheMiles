<app-page-layout>
	<table style="width: 100%">
		<thead>
			<tr>
				<th style="text-align: left">Distance</th>
				<th style="text-align: left">Time</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let goal of goals">
				<td>
					<div *ngIf="editMode[goal.id]">
						<td>
							<select required [(ngModel)]="goal.distance">
								<option *ngFor="let distance of distances" [value]="distance">
									{{ distance }}
								</option>
							</select>
						</td>
					</div>
					<div *ngIf="!editMode[goal.id]">
						<td>
							{{ goal.distance }}
						</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[goal.id]">
						<td>
							<input [(ngModel)]="goal.time" />
						</td>
					</div>
					<div *ngIf="!editMode[goal.id]">
						<td>{{ goal.time }}</td>
					</div>
				</td>
				<td>
					<div class="update-buttons">
						<button class="update-button" (click)="editGoal(goal)">edit</button>
						<button class="update-button" (click)="saveGoal(goal)">save</button>
						<button class="update-button" (click)="removeGoal(goal.id)">
							delete
						</button>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
	<app-goal-form [distances]="distances"></app-goal-form>
</app-page-layout>
