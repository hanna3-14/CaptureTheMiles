<app-page-layout>
	<table style="width: 100%">
		<thead>
			<tr>
				<th style="text-align: left">ID</th>
				<th style="text-align: left">Event Name</th>
				<th style="text-align: left">Distance</th>
				<th style="text-align: left">Time (gross)</th>
				<th style="text-align: left">Time (net)</th>
				<th style="text-align: left">Category</th>
				<th style="text-align: left">Agegroup</th>
				<th style="text-align: left">Place (total)</th>
				<th style="text-align: left">Place (category)</th>
				<th style="text-align: left">Place (agegroup)</th>
				<th style="text-align: left">Finisher (total)</th>
				<th style="text-align: left">Finisher (category)</th>
				<th style="text-align: left">Finisher (agegroup)</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let result of results">
				<td>{{ result.id }}</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input [(ngModel)]="result.name" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.name }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<select required [(ngModel)]="result.distance">
							<option *ngFor="let distance of distances" [value]="distance">
								{{ distance }}
							</option>
						</select>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.distance }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input [(ngModel)]="result.timeGross" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.timeGross }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input [(ngModel)]="result.timeNet" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.timeNet }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input [(ngModel)]="result.category" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.category }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input [(ngModel)]="result.agegroup" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.agegroup }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="number" [(ngModel)]="result.placeTotal" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.placeTotal }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="number" [(ngModel)]="result.placeCategory" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.placeCategory }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="number" [(ngModel)]="result.placeAgegroup" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.placeAgegroup }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="number" [(ngModel)]="result.finisherTotal" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.finisherTotal }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td>
							<input type="number" [(ngModel)]="result.finisherCategory" />
						</td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.finisherCategory }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td>
							<input type="number" [(ngModel)]="result.finisherAgegroup" />
						</td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.finisherAgegroup }}</td>
					</div>
				</td>
				<td><button (click)="editResult(result)">edit</button></td>
				<td><button (click)="saveResult(result)">save</button></td>
				<td><button (click)="removeResult(result.id)">delete</button></td>
			</tr>
		</tbody>
	</table>
	<app-result-form [distances]="distances"></app-result-form>
</app-page-layout>
