<app-page-layout>
	<table style="width: 100%">
		<thead>
			<tr>
				<th style="text-align: left">ID</th>
				<th style="text-align: left">Date</th>
				<th style="text-align: left">Distance</th>
				<th style="text-align: left">Time (gross)</th>
				<th style="text-align: left">Time (net)</th>
				<th style="text-align: left">Category</th>
				<th style="text-align: left">Agegroup</th>
				<th style="text-align: left">Place (total)</th>
				<th style="text-align: left">Place (category)</th>
				<th style="text-align: left">Place (agegroup)</th>
				<th style="text-align: left">Finisher (total)</th>
				<th style="text-align: left">Finisher (category)</th>
				<th style="text-align: left">Finisher (agegroup)</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let result of results">
				<td>{{ result.id }}</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="date" [(ngModel)]="result.date" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.date }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<select required [(ngModel)]="result.distance">
							<option *ngFor="let distance of distances" [value]="distance">
								{{ distance }}
							</option>
						</select>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.distance }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td>
							<input type="number" [(ngModel)]="result.timeGross.hours" />
							<input type="number" [(ngModel)]="result.timeGross.minutes" />
							<input type="number" [(ngModel)]="result.timeGross.seconds" />
						</td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>
							{{ result.timeGross.hours }}:{{ result.timeGross.minutes }}:{{
								result.timeGross.seconds
							}}
						</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td>
							<input type="number" [(ngModel)]="result.timeNet.hours" />
							<input type="number" [(ngModel)]="result.timeNet.minutes" />
							<input type="number" [(ngModel)]="result.timeNet.seconds" />
						</td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>
							{{ result.timeNet.hours }}:{{ result.timeNet.minutes }}:{{
								result.timeNet.seconds
							}}
						</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input [(ngModel)]="result.category" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.category }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input [(ngModel)]="result.agegroup" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.agegroup }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="number" [(ngModel)]="result.place.total" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.place.total }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="number" [(ngModel)]="result.place.category" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.place.category }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="number" [(ngModel)]="result.place.agegroup" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.place.agegroup }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td><input type="number" [(ngModel)]="result.finisher.total" /></td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.finisher.total }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td>
							<input type="number" [(ngModel)]="result.finisher.category" />
						</td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.finisher.category }}</td>
					</div>
				</td>
				<td>
					<div *ngIf="editMode[result.id]">
						<td>
							<input type="number" [(ngModel)]="result.finisher.agegroup" />
						</td>
					</div>
					<div *ngIf="!editMode[result.id]">
						<td>{{ result.finisher.agegroup }}</td>
					</div>
				</td>
				<td><button (click)="editResult(result)">edit</button></td>
				<td><button (click)="saveResult(result)">save</button></td>
				<td><button (click)="removeResult(result.id)">delete</button></td>
			</tr>
		</tbody>
	</table>
	<app-result-form [distances]="distances"></app-result-form>
</app-page-layout>
